// 엘리베이터
#include<bits/stdc++.h>
using namespace std;
typedef long long ll;
int n;
double ret;
char arr[10][40];
char num[10][5][3]={
    {{'#','#','#'},{'#','.','#'},{'#','.','#'},{'#','.','#'},{'#','#','#'}},
    {{'.','.','#'},{'.','.','#'},{'.','.','#'},{'.','.','#'},{'.','.','#'}},
    {{'#','#','#'},{'.','.','#'},{'#','#','#'},{'#','.','.'},{'#','#','#'}},
    {{'#','#','#'},{'.','.','#'},{'#','#','#'},{'.','.','#'},{'#','#','#'}},
    {{'#','.','#'},{'#','.','#'},{'#','#','#'},{'.','.','#'},{'.','.','#'}},
    {{'#','#','#'},{'#','.','.'},{'#','#','#'},{'.','.','#'},{'#','#','#'}},
    {{'#','#','#'},{'#','.','.'},{'#','#','#'},{'#','.','#'},{'#','#','#'}},
    {{'#','#','#'},{'.','.','#'},{'.','.','#'},{'.','.','#'},{'.','.','#'}},
    {{'#','#','#'},{'#','.','#'},{'#','#','#'},{'#','.','#'},{'#','#','#'}},
    {{'#','#','#'},{'#','.','#'},{'#','#','#'},{'.','.','#'},{'#','#','#'}}
};
ll pow_(int x) {
    ll r=1;
    for(int i=0;i<x;i++) r*=10;
    return r;
}
vector<int> v[10];
int main() {
    scanf("%d",&n);
    for(int i=0;i<5;i++) {
        for(int j=0;j<4*n-1;j++) {
            scanf(" %1c",&arr[i][j]);
        }
    }
    for(int k=0;k<n;k++) {
        for(int t=0;t<10;t++) {
            bool flag=false;
            for(int i=0;i<5;i++) {
                for(int j=0;j<3;j++) {
                    if(arr[i][4*k+j]!=num[t][i][j]&&arr[i][4*k+j]=='#') {
                        flag=true;
                        break;
                    }
                }
                if(flag) break;
            }
            if(!flag) v[k].push_back(t);
        }
    }
    for(int i=0;i<n;i++) {
        int len=(int)v[i].size();
        if(!len) {
            printf("-1\n");
            return 0;
        }
    }
    // 브루트포스는 최악의 경우 9!
    // 따라서 자리수마다 평균을 구하고, 그 값들을 더해 전체 수의 평균을 구함
    for(int i=0;i<n;i++) {
        ll sum=0;
        for(auto it:v[i]) sum+=it;
        sum*=pow_(n-i-1);
        ret+=(double)sum/(double)v[i].size();
    }
    printf("%.5lf",ret);
    return 0;
}